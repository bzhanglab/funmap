function create_dag(a,b,c,d="dag",e=false,f="",g=1,h=false){return fetch(`${f}data/dag/${b}/${c}.json`).then(i=>i.json()).then(j=>{if(j.nodes.length>50&&!e){console.log("Clique too large to render");return false}function k(){const s=document.getElementById(d).offsetWidth;const t=document.getElementById(d).offsetHeight;let u=13/672*t*g;u=Math.min(u,20);return u}function l(){return 58/13*k()}function m(){return Math.max(100/11*k()+100*(.05*j.nodes.length)-100,100)}function n(){const v=document.getElementById(d).offsetWidth;const w=document.getElementById(d).offsetHeight;let x=Math.round(Math.sqrt(v*v+w*w)/(7+Math.log(j.nodes.length)));let y=Math.round(Math.sqrt(v*v+w*w)/(90+Math.log(j.nodes.length)));x=Math.min(x,140);y=Math.min(y,20);return[y,x]}const o=document.getElementById(d);const p=a.init(o);const q=n();console.log(h);const r={title:{text:!h?`Clique ID: ${c.split("C")[1]}`:c,left:"center",textStyle:{fontSize:k()+10,fontWeight:"bolder",color:"#333"}},tooltip:{trigger:"item",triggerOn:"mousemove",formatter:"{b}",backgroundColor:"#F6F8FC",borderColor:"#8C8D8E",borderWidth:1,padding:[3,3,3,3],textStyle:{color:"#4C5058",fontSize:k()}},toolbox:{show:true,feature:{restore:{},dataView:{show:true,title:"Data View",readOnly:true,optionToContent:z=>{const A=z.series;let B='<textarea style="height: 100%; width: 100%" readonly>Gene Symbol\tSigned P Value\n';for(let C=0,D=A[0].nodes.length;C<D;C++){B+=`${A[0].nodes[C].name}\t${A[0].nodes[C].value}\n`}B+="</textarea>";return B}},saveAsImage:{show:true,title:"Save as Image",type:"png"}}},visualMap:{type:"continuous",min:-165,max:165,seriesIndex:0,itemWidth:q[0],itemHeight:q[1],title:{text:"Signed log10 meta-p",left:"center",top:"bottom"},text:["Tumor\nOver-expressed","Tumor\nUnder-expressed"],precision:3,inRange:{color:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"].reverse()}},series:[{type:"graph",name:`Clique ${c}`,draggable:j.nodes.length<100,layout:"force",nodes:j.nodes,links:j.edges,coordinateSystem:null,roam:true,symbolSize:l(),label:{show:true,position:"inside",fontSize:k(),padding:[3,3,3,3],verticalAlign:"middle",color:"#4C5058",backgroundColor:"#F6F8FC",borderColor:"#8C8D8E",borderWidth:1,borderRadius:4},force:{repulsion:300,edgeLength:m(),friction:.05},itemStyle:{borderColor:"#000",borderWidth:1},lineStyle:{width:j.edges.length<100?1:.5},emphasis:{focus:"none",label:{borderColor:"#000",borderWidth:2,backgroundColor:"#FFA505",color:"#000"}}}]};p.dispatchAction({type:"restore"});r&&p.setOption(r);window.addEventListener("resize",()=>{p.resize();p.setOption({series:{label:{textStyle:{fontSize:k()}},symbolSize:l(),force:{edgeLength:m()}}})});return p})}function update_dag(E,F,G,H=""){return fetch(`${H}data/dag/${F}/${G}.json`).then(I=>I.json()).then(J=>{E.dispatchAction({type:"restore"});if(J.nodes.length>50){E.setOption({title:{text:`${G}\nToo many nodes to display.`,top:"middle"},series:[{nodes:[],links:[]}]});return false}E.setOption({title:{text:G,top:"top"},series:[{name:G,nodes:J.nodes,links:J.edges}]});return E})}