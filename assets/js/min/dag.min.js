function create_dag(a,b,c,d="dag",e=false,f=""){return fetch(f+"data/dag/"+b+"/"+c+".json").then(g=>g.json()).then(h=>{if(h.nodes.length>50&&!e){console.log("Clique too large to render");return false}function i(){let q=document.getElementById(d).offsetWidth;let r=document.getElementById(d).offsetHeight;let s=13/672*r;s=Math.min(s,20);console.log(s);return s}function j(){return 58/13*i();let t=document.getElementById(d).offsetWidth;let u=document.getElementById(d).offsetHeight;let v=Math.round(Math.sqrt(t*t+u*u)/(12+Math.log(h.nodes.length)));v=Math.min(v,60);return v}function k(){return Math.max(100/11*i()+100*(.05*h.nodes.length)-100,100)}function l(){let w=document.getElementById(d).offsetWidth;let x=document.getElementById(d).offsetHeight;let y=Math.round(Math.sqrt(w*w+x*x)/(7+Math.log(h.nodes.length)));let z=Math.round(Math.sqrt(w*w+x*x)/(90+Math.log(h.nodes.length)));y=Math.min(y,140);z=Math.min(z,20);return[z,y]}var m=document.getElementById(d);var n=a.init(m);let o=l();var p;p={title:{text:c.startsWith("C")?"Clique ID: "+c.split("C")[1]:c,left:"center",textStyle:{fontSize:i()+10,fontWeight:"bolder",color:"#333"}},tooltip:{trigger:"item",triggerOn:"mousemove",formatter:"{b}",backgroundColor:"#F6F8FC",borderColor:"#8C8D8E",borderWidth:1,padding:[3,3,3,3],textStyle:{color:"#4C5058",fontSize:i()}},toolbox:{show:true,feature:{dataView:{show:true,title:"Data View",readOnly:true,optionToContent:function(A){var B=A.series;var C='<textarea style="height: 100%; width: 100%" readonly>Gene Symbol\tSigned P Value\n';for(var D=0,E=B[0].nodes.length;D<E;D++){C+=B[0].nodes[D].name+"\t"+B[0].nodes[D].value+"\n"}C+="</textarea>";return C}},saveAsImage:{show:true,title:"Save as Image",type:"png"}}},visualMap:{type:"continuous",min:-165,max:165,seriesIndex:0,itemWidth:o[0],itemHeight:o[1],title:{text:"Signed log10 meta-p",left:"center",top:"bottom"},text:["Signed log10 meta-p\n\nHigher in Tumor vs. Normal","Lower in Tumor vs. Normal"],precision:3,inRange:{color:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"].reverse()}},series:[{type:"graph",name:"Clique "+c,draggable:h.nodes.length<100,layout:"force",nodes:h.nodes,links:h.edges,coordinateSystem:null,roam:true,symbolSize:j(),label:{show:true,position:"inside",fontSize:i(),padding:[3,3,3,3],verticalAlign:"middle",color:"#4C5058",backgroundColor:"#F6F8FC",borderColor:"#8C8D8E",borderWidth:1,borderRadius:4},force:{repulsion:300,edgeLength:k(),friction:.05},itemStyle:{borderColor:"#000",borderWidth:1},lineStyle:{width:h.edges.length<100?1:.5},emphasis:{focus:"none",label:{borderColor:"#000",borderWidth:2,backgroundColor:"#FFA505",color:"#000"}}}]};n.dispatchAction({type:"restore"});p&&n.setOption(p);window.addEventListener("resize",function(){n.resize();n.setOption({series:{label:{textStyle:{fontSize:i()}},symbolSize:j(),force:{edgeLength:k()}}})});return n})}function update_dag(F,G,H,I=""){return fetch(I+"data/dag/"+G+"/"+H+".json").then(J=>J.json()).then(K=>{F.dispatchAction({type:"restore"});if(K.nodes.length>50){F.setOption({title:{text:"Too many nodes to display.",top:"middle"},series:[{nodes:[],links:[]}]});return false}F.setOption({title:{text:H,top:"top"},series:[{name:H,nodes:K.nodes,links:K.edges}],visualMap:{text:null}});return F})}