# FunMap Visualization

This is the source code for the website and visualization of FunMap.

## Structure

- `article` folder
   - Contains markdown files that are converted into their own pages with the `build.py` script. Currently used for the WebGestalt tutorial page.
   - Each article will have its own folder (`webgestalt_tutorial` for example. The contents will be in the `index.html` file.
- `assets`
  - `css`
    - Contains the main `css` files for the visualization and website.
    - `gd.min.css` is a customized version of [gdcss](https://gdcss.netlify.app/)
  - `img`
    - Image files used for the WebGestalt tutorial and the visualizations
  - `js`
    - Essentially the library of the project. Contains the echarts library, and the custom visualizations. If code is used across different pages (the DAG shown in all three visualization pages), it should be a custom `js` file in this directory.
    - `min`
      - This folder contains the minified code that is produced by `uglifyjs`. Can be generated by `just compress` (see below).
      - **Note:** These are the files used on the website. If you make changes to the normal `js` files, you have to run `uglifyjs` and place the minified js file in this folder. If you installed just, you can run `just compress` which will run `uglifyjs` for all the required `js` files.
- `clique`, `hierarchical`, `gene`
  - The different visualizations from the website. All the code is contained in the `index.html` file. This will have the unique code, and reference the libraries in `assets/js` when possible.
- `data`
  - All the clique, hiearchical, and gene neighborhood information that is used by the visualizations


## Building

### Requirements

- Python
  - `markdown2` package
- Node/npm
  - biome
    - Install globally via `npm install -g @biomejs/biome`
  - uglifyjs
    - Install globally via `npm install -g uglify-js`
- [just](https://github.com/casey/just) (optional, but highly recommended)
  - Used for build scripts


  ### Building steps

  After making changes to the source code, if you have installed just, you can run `just build` to run biome and compress JavaScript.

> [!NOTE]  
> Linting with `biome` is optional. If you would like to skip this step, you can run `just compress` which will run `uglifyjs`. Then run `python build.py` to create `html` files from the files in the `article` folder.

If you have not installed `just`, you can look at the `justfile` file to view the scripts you need to run. Remove the `@` symbol before each function call.
